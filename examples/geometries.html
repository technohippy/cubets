<!DOCTYPE html>
<html>
  <head>
    <title>Cubets: Controls</title>
    <style>
      canvas {
        border:1px solid gray;
      }
    </style>
  </head>
  <body>
    <canvas id="cubets" width="600" height="400"></canvas>
    <script type="module">
      import Cubets from "../dist/cubets.js"

      const scene = new Cubets.PhongScene()

      const light = new Cubets.PhongScene.Light(
        new Cubets.Vec3(0, 0, -1),
        new Cubets.Color(0.3, 0.3, 0.3),
        new Cubets.Color(0.8, 0.8, 0.8)
      )
      scene.add(light)

      const randomMaterial = new Cubets.PhongScene.Material()
      const normalMaterial = new Cubets.PhongScene.Material()
      normalMaterial.normal = true
      const wireframeMaterial = new Cubets.PhongScene.Material(new Cubets.Color(1,1,1))
      wireframeMaterial.wireframe = true

      const materials = [
        randomMaterial,
        normalMaterial, 
        wireframeMaterial,
      ]
      const geometries = [
        new Cubets.CubeGeometry({x:10, y:10, z:10}),
        new Cubets.SphereGeometry(8),
        new Cubets.CylinderGeometry(8, 10),
      ]

      const unit = 20
      const baseX = -(materials.length - 1) * unit / 2
      const baseY = -(geometries.length - 1) * unit / 2
      materials.forEach((m, x) => {
        geometries.forEach((g, y) => {
          const mesh = new Cubets.Mesh(g, m)
          mesh.position = new Cubets.Vec3(baseX + x * unit, baseY + y * unit, 0)
          scene.add(mesh)
        })
      })

      const camera = new Cubets.PerspectiveCamera("cubets", 45, 0.1, 100)
      //const camera = new Cubets.OrthogonalCamera("cubets", 40, -150, 150)
      camera.position.z = 20
      camera.addControl(new Cubets.OrbitCameraControl())
      camera.start(scene)
    </script>
  </body>
</html>